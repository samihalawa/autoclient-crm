# Twenty CRM - Google Cloud Environment Configuration Template
# Copy this file to .env.gcloud and fill in your values

# ==========================================
# Google Cloud Configuration
# ==========================================
GCLOUD_PROJECT_ID=your-project-id
GCLOUD_REGION=us-central1

# ==========================================
# Application Configuration
# ==========================================
NODE_ENV=production
PORT=8080
SERVER_URL=https://your-app.run.app

# ==========================================
# Database Configuration
# ==========================================
# Cloud SQL PostgreSQL connection
# Format: postgresql://USER:PASSWORD@/DATABASE?host=/cloudsql/PROJECT:REGION:INSTANCE
PG_DATABASE_URL=postgresql://postgres:YOUR_PASSWORD@/twenty?host=/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME

# ==========================================
# Redis Configuration (Memorystore)
# ==========================================
# Format: redis://HOST:PORT
REDIS_URL=redis://10.x.x.x:6379

# ==========================================
# Security
# ==========================================
# Generate with: openssl rand -base64 32
APP_SECRET=replace_with_random_32_char_string

# ==========================================
# Storage Configuration (Optional)
# ==========================================
# Use Google Cloud Storage for file uploads
STORAGE_TYPE=gcp
STORAGE_GCP_BUCKET_NAME=your-bucket-name
STORAGE_GCP_PROJECT_ID=your-project-id

# ==========================================
# Email Configuration (Optional)
# ==========================================
EMAIL_FROM_ADDRESS=noreply@yourdomain.com
EMAIL_FROM_NAME=Twenty CRM
EMAIL_SYSTEM_ADDRESS=system@yourdomain.com

# SMTP Configuration
EMAIL_DRIVER=smtp
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_SMTP_USER=your-email@gmail.com
EMAIL_SMTP_PASSWORD=your-app-password

# ==========================================
# OAuth Configuration (Optional)
# ==========================================
# Google OAuth
AUTH_GOOGLE_ENABLED=false
AUTH_GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
AUTH_GOOGLE_CLIENT_SECRET=your-client-secret
AUTH_GOOGLE_CALLBACK_URL=https://your-app.run.app/auth/google/callback

# Google Calendar & Gmail
CALENDAR_PROVIDER_GOOGLE_ENABLED=false
MESSAGING_PROVIDER_GMAIL_ENABLED=false

# Microsoft OAuth
AUTH_MICROSOFT_ENABLED=false
AUTH_MICROSOFT_CLIENT_ID=your-client-id
AUTH_MICROSOFT_CLIENT_SECRET=your-client-secret
AUTH_MICROSOFT_CALLBACK_URL=https://your-app.run.app/auth/microsoft/callback

# ==========================================
# Monitoring & Observability (Optional)
# ==========================================
# Sentry error tracking
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=

# ==========================================
# Feature Flags
# ==========================================
DISABLE_DB_MIGRATIONS=false
DISABLE_CRON_JOBS_REGISTRATION=false

# ==========================================
# Performance Tuning
# ==========================================
# Cloud Run specific
MAX_INSTANCES=10
MIN_INSTANCES=1
MEMORY_LIMIT=2Gi
CPU_LIMIT=2

# Node.js performance
NODE_OPTIONS=--max-old-space-size=1792
